@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Glass morphism design system with beautiful colors and gradients */

/* Mobile-first optimizations */
@layer utilities {
  /* Prevent horizontal overflow on mobile */
  .mobile-safe {
    max-width: 100vw;
    overflow-x: hidden;
  }
  
  .no-scroll-anchoring {
    overflow-anchor: none;
  }
  
  /* Better touch targets for mobile */
  @media (max-width: 768px) {
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* React Grid Layout fixes - Proper stacking */
  .react-grid-layout {
    position: relative !important;
    z-index: 1 !important;
  }
  
  .react-grid-item {
    transition: all 200ms ease;
    transition-property: left, top, width, height;
    z-index: auto !important;
  }
  
  .react-grid-item.cssTransforms {
    transition-property: transform, width, height;
  }
  
  .react-grid-item.resizing {
    transition: none;
    z-index: 100 !important;
  }
  
  .react-grid-item.react-draggable-dragging {
    transition: none;
    z-index: 100 !important;
  }
  
  .react-grid-item.react-grid-placeholder {
    background: hsl(var(--primary) / 0.15);
    opacity: 0.2;
    transition-duration: 100ms;
    z-index: 2 !important;
    border-radius: 0.5rem;
  }
  
  /* Ensure content stays within bounds */
  .layout {
    min-height: 100px;
  }
}

@layer base {
  :root {
    /* Glass morphism light mode - Premium glassmorphism gradient */
    --background: 220 20% 98%;
    --background-gradient-start: 220 20% 98%;
    --background-gradient-end: 220 25% 93%;
    --foreground: 240 10% 13%;
    
    --card: 0 0% 100%;
    --card-foreground: 240 10% 15%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 15%;
    
    --primary: 234 89% 58%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 42 28% 88%;
    --secondary-foreground: 240 10% 15%;
    
    --muted: 42 20% 85%;
    --muted-foreground: 240 5% 40%;
    
    --accent: 42 28% 88%;
    --accent-foreground: 240 10% 15%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 234 89% 58%;
    
    --radius: 1rem;
    
    /* Neon colors for trading */
    --neon-green: 142 76% 36%;
    --neon-red: 0 84% 60%;
    
    /* Glass effects */
    --glass-bg: 0 0% 100% / 0.7;
    --glass-border: 240 6% 90% / 0.5;
    --glass-shadow: 240 5% 15% / 0.05;
    
    /* Chart colors */
    --chart-1: 234 89% 58%;
    --chart-2: 280 65% 60%;
    --chart-3: 160 60% 45%;
    --chart-4: 30 80% 55%;
    --chart-5: 340 75% 55%;
  }

  .dark {
    /* Glass morphism dark mode */
    --background: 240 10% 8%;
    --background-gradient-start: 240 10% 8%;
    --background-gradient-end: 240 10% 5%;
    --foreground: 0 0% 95%;
    
    --card: 240 10% 12%;
    --card-foreground: 0 0% 95%;
    
    --popover: 240 10% 12%;
    --popover-foreground: 0 0% 95%;
    
    --primary: 234 89% 58%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 240 6% 18%;
    --secondary-foreground: 0 0% 95%;
    
    --muted: 240 6% 18%;
    --muted-foreground: 240 5% 60%;
    
    --accent: 240 6% 18%;
    --accent-foreground: 0 0% 95%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 240 6% 20%;
    --input: 240 6% 20%;
    --ring: 234 89% 58%;
    
    /* Glass effects for dark mode */
    --glass-bg: 240 10% 12% / 0.7;
    --glass-border: 240 6% 20% / 0.5;
    --glass-shadow: 0 0% 0% / 0.3;
  }
}

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }
  
  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background-attachment: fixed;
    min-height: 100vh;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Global Text Overflow Protection */
  .card, button, [role="button"], select, option, label, .glass, .glass-strong, .glass-subtle {
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: anywhere;
    line-height: 1.4;
  }

  /* Minimum touch targets for mobile */
  @media (max-width: 768px) {
    button, [role="button"], a {
      min-height: 44px;
      min-width: 44px;
    }
  }

  @keyframes glow-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.6;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-glow {
    animation: glow-pulse 3s ease-in-out infinite;
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .gradient-text {
    background: linear-gradient(135deg, hsl(var(--foreground)), hsl(var(--muted-foreground)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* React Grid Layout Styles */
  .react-grid-layout {
    position: relative;
    transition: height 200ms ease;
  }

  .react-grid-item {
    transition: all 200ms ease;
    transition-property: left, top, width, height;
  }

  .react-grid-item.cssTransforms {
    transition-property: transform, width, height;
  }

  .react-grid-item.resizing {
    transition: none;
    z-index: 100;
    will-change: width, height;
  }

  .react-grid-item.react-draggable-dragging {
    transition: none;
    z-index: 100;
    will-change: transform;
  }

  .react-grid-item.dropping {
    visibility: hidden;
  }

  .react-grid-item.react-grid-placeholder {
    background: hsl(var(--accent) / 0.2);
    opacity: 0.5;
    transition-duration: 100ms;
    z-index: 2;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    user-select: none;
    border-radius: 0.75rem;
  }

  .react-grid-item > .react-resizable-handle {
    position: absolute;
    width: 20px;
    height: 20px;
  }

  .react-grid-item > .react-resizable-handle::after {
    content: "";
    position: absolute;
    right: 3px;
    bottom: 3px;
    width: 5px;
    height: 5px;
    border-right: 2px solid hsl(var(--muted-foreground));
    border-bottom: 2px solid hsl(var(--muted-foreground));
  }

  .drag-handle {
    cursor: grab;
  }

  .drag-handle:active {
    cursor: grabbing;
  }
}

@layer utilities {
  /* Glass morphism utilities - Enhanced for premium look */
  .glass {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dark .glass {
    @apply bg-card/70 backdrop-blur-xl border border-border/50 shadow-lg;
  }
  
  .glass-strong {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(25px);
    -webkit-backdrop-filter: blur(25px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.08);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dark .glass-strong {
    @apply bg-card/80 backdrop-blur-2xl border border-border/60 shadow-xl;
  }
  
  .glass-subtle {
    background: rgba(255, 255, 255, 0.65);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.03);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dark .glass-subtle {
    @apply bg-card/50 backdrop-blur-md border border-border/40 shadow-md;
  }
  
  /* Gradient backgrounds */
  .gradient-primary {
    background: linear-gradient(135deg, hsl(234 89% 58% / 0.1) 0%, hsl(234 89% 58% / 0.05) 100%);
  }
  
  .gradient-success {
    background: linear-gradient(135deg, hsl(142 76% 36% / 0.1) 0%, hsl(142 76% 36% / 0.05) 100%);
  }
  
  .gradient-danger {
    background: linear-gradient(135deg, hsl(0 84% 60% / 0.1) 0%, hsl(0 84% 60% / 0.05) 100%);
  }
  
  /* Hover effects - Enhanced for glassmorphism */
  .hover-lift {
    @apply transition-all duration-300;
  }
  
  .hover-lift:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.1);
  }
  
  .dark .hover-lift:hover {
    @apply shadow-xl;
  }
  
  .hover-glow {
    @apply transition-all duration-300 hover:shadow-primary/20 hover:shadow-2xl;
  }
  
  /* Text gradients */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent;
  }
  
  .text-gradient-success {
    @apply bg-gradient-to-r from-neon-green to-green-600 bg-clip-text text-transparent;
  }
  
  .text-gradient-danger {
    @apply bg-gradient-to-r from-neon-red to-red-600 bg-clip-text text-transparent;
  }
  
  /* Custom scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-muted/30 rounded-full;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-full hover:bg-muted-foreground/50;
  }
  
  /* Smooth animations */
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }
  
  .animate-fade-in {
    animation: fadeIn 0.4s ease-out;
  }
}

/* Override card components with glass effect */
.card-glass {
  @apply glass rounded-2xl p-6;
}

/* Stat cards with glass effect */
.stat-card {
  @apply glass rounded-2xl p-5 hover-lift;
}

/* Chart containers */
.chart-container {
  @apply glass-strong rounded-2xl p-6;
}
